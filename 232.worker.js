"use strict";(self.webpackChunkplasma_web=self.webpackChunkplasma_web||[]).push([[232],{232:(e,t,_)=>{_.a(e,(async(e,a)=>{try{_.r(t);var n=_(250),r=e([n]);n=(r.then?(await r)():r)[0];const o=self;var c,b;o.postMessage("ready"),onmessage=e=>{var t=e.data;if(t instanceof ArrayBuffer){c.renderPhaseAmps(new Float32Array(t)),0===b.data.byteLength&&(b=c.imageData());let e=new ImageData(new Uint8ClampedArray(b.data),b.width,b.height);createImageBitmap(e).then((e=>{o.postMessage(e,[e])}),(e=>{console.error(e)}))}else{let{width:e,height:_,minSteps:a,maxSteps:r,x:o,y:i,w:d,h:g}=t;(c=new n.HB(e,_,a,r)).setArea(o,i,d,g),b=c.imageData()}},a()}catch(e){a(e)}}))},250:(e,t,_)=>{_.a(e,(async(e,a)=>{try{_.d(t,{HB:()=>r.HB});var n=_(466),r=_(310),c=e([n]);n=(c.then?(await c)():c)[0],(0,r.lI)(n),a()}catch(e){a(e)}}))},310:(module,__webpack_exports__,__webpack_require__)=>{let wasm;function __wbg_set_wasm(e){wasm=e}__webpack_require__.d(__webpack_exports__,{BZ:()=>__wbindgen_object_clone_ref,D1:()=>__wbg_versions_f686565e586dd935,DI:()=>__wbg_buffer_b7b08af79b0b0974,EP:()=>__wbg_new_796382978dfd4fb0,FJ:()=>__wbg_set_d1e79e2388520f18,Gu:()=>__wbindgen_is_string,HB:()=>PlasmaHandle,J1:()=>__wbg_call_89af060b4e1523f2,KN:()=>__wbg_self_3093d5d1f7bcb682,Mq:()=>__wbg_new_ea1883e1e5e86686,NL:()=>__wbg_node_104a2ff8d6ea03a2,Nh:()=>__wbindgen_boolean_get,O9:()=>__wbg_window_3bcfc4d31bc012f8,OL:()=>__wbg_newwithlength_ec548f448387c968,PR:()=>__wbindgen_is_function,Py:()=>__wbindgen_memory,Qn:()=>__wbindgen_throw,Ti:()=>__wbg_eval_6e4fc17d87772f52,VF:()=>__wbg_getRandomValues_3aa56aa6edec874c,X5:()=>__wbg_instanceof_WorkerGlobalScope_e34c8a505711a78e,ZY:()=>__wbg_newwithu8clampedarray_6b29095634b7e758,bk:()=>__wbindgen_object_drop_ref,cA:()=>__wbg_process_4a72847cc503995b,cl:()=>__wbg_msCrypto_eb05e62b530a1508,hH:()=>__wbg_newwithbyteoffsetandlength_8a2cb9ca96b27ec9,hW:()=>__wbg_randomFillSync_5c9c955aa56b6049,h_:()=>__wbg_crypto_1d1f22824a6a080c,jF:()=>__wbg_global_e5a3fe56f8be9485,lI:()=>__wbg_set_wasm,nq:()=>__wbg_subarray_7c2e3576afe181d1,qv:()=>__wbindgen_is_object,s:()=>__wbg_require_cca90b1a94a0255b,t5:()=>__wbg_createImageBitmap_b7c7bb61272dc716,tM:()=>__wbg_call_1084a111329e68ce,tn:()=>__wbg_globalThis_86b222e13bdf32ed,uw:()=>__wbg_instanceof_Window_5012736c80a01584,vU:()=>__wbindgen_is_undefined,xN:()=>__wbg_newnoargs_76313bd6ff35d0f2,yc:()=>__wbindgen_string_new,zR:()=>__wbg_createImageBitmap_c278e73aea088356}),module=__webpack_require__.hmd(module);const heap=new Array(128).fill(void 0);function getObject(e){return heap[e]}heap.push(void 0,null,!0,!1);let heap_next=heap.length;function dropObject(e){e<132||(heap[e]=heap_next,heap_next=e)}function takeObject(e){const t=getObject(e);return dropObject(e),t}const lTextDecoder="undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder;let cachedTextDecoder=new lTextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();let cachedUint8ArrayMemory0=null;function getUint8ArrayMemory0(){return null!==cachedUint8ArrayMemory0&&0!==cachedUint8ArrayMemory0.byteLength||(cachedUint8ArrayMemory0=new Uint8Array(wasm.memory.buffer)),cachedUint8ArrayMemory0}function getStringFromWasm0(e,t){return e>>>=0,cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(e,e+t))}function addHeapObject(e){heap_next===heap.length&&heap.push(heap.length+1);const t=heap_next;return heap_next=heap[t],heap[t]=e,t}let cachedDataViewMemory0=null;function getDataViewMemory0(){return(null===cachedDataViewMemory0||!0===cachedDataViewMemory0.buffer.detached||void 0===cachedDataViewMemory0.buffer.detached&&cachedDataViewMemory0.buffer!==wasm.memory.buffer)&&(cachedDataViewMemory0=new DataView(wasm.memory.buffer)),cachedDataViewMemory0}let cachedFloat32ArrayMemory0=null;function getFloat32ArrayMemory0(){return null!==cachedFloat32ArrayMemory0&&0!==cachedFloat32ArrayMemory0.byteLength||(cachedFloat32ArrayMemory0=new Float32Array(wasm.memory.buffer)),cachedFloat32ArrayMemory0}let WASM_VECTOR_LEN=0;function passArrayF32ToWasm0(e,t){const _=t(4*e.length,4)>>>0;return getFloat32ArrayMemory0().set(e,_/4),WASM_VECTOR_LEN=e.length,_}function getArrayF32FromWasm0(e,t){return e>>>=0,getFloat32ArrayMemory0().subarray(e/4,e/4+t)}function handleError(e,t){try{return e.apply(this,t)}catch(e){wasm.__wbindgen_export_2(addHeapObject(e))}}let cachedUint8ClampedArrayMemory0=null;function getUint8ClampedArrayMemory0(){return null!==cachedUint8ClampedArrayMemory0&&0!==cachedUint8ClampedArrayMemory0.byteLength||(cachedUint8ClampedArrayMemory0=new Uint8ClampedArray(wasm.memory.buffer)),cachedUint8ClampedArrayMemory0}function getClampedArrayU8FromWasm0(e,t){return e>>>=0,getUint8ClampedArrayMemory0().subarray(e/1,e/1+t)}const PlasmaHandleFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>wasm.__wbg_plasmahandle_free(e>>>0,1)));class PlasmaHandle{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,PlasmaHandleFinalization.unregister(this),e}free(){const e=this.__destroy_into_raw();wasm.__wbg_plasmahandle_free(e,0)}constructor(e,t,_,a){try{const c=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.plasmahandle_constructor(c,e,t,_,a);var n=getDataViewMemory0().getInt32(c+0,!0),r=getDataViewMemory0().getInt32(c+4,!0);if(getDataViewMemory0().getInt32(c+8,!0))throw takeObject(r);return this.__wbg_ptr=n>>>0,PlasmaHandleFinalization.register(this,this.__wbg_ptr,this),this}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}setArea(e,t,_,a){wasm.plasmahandle_setArea(this.__wbg_ptr,e,t,_,a)}width(){return wasm.plasmahandle_width(this.__wbg_ptr)>>>0}height(){return wasm.plasmahandle_height(this.__wbg_ptr)>>>0}render(){wasm.plasmahandle_render(this.__wbg_ptr)}renderPhaseAmps(e){const t=passArrayF32ToWasm0(e,wasm.__wbindgen_export_0),_=WASM_VECTOR_LEN;wasm.plasmahandle_renderPhaseAmps(this.__wbg_ptr,t,_)}update(){wasm.plasmahandle_update(this.__wbg_ptr)}imageData(){try{const _=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.plasmahandle_imageData(_,this.__wbg_ptr);var e=getDataViewMemory0().getInt32(_+0,!0),t=getDataViewMemory0().getInt32(_+4,!0);if(getDataViewMemory0().getInt32(_+8,!0))throw takeObject(t);return takeObject(e)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}createImageBitmap(){try{const _=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.plasmahandle_createImageBitmap(_,this.__wbg_ptr);var e=getDataViewMemory0().getInt32(_+0,!0),t=getDataViewMemory0().getInt32(_+4,!0);if(getDataViewMemory0().getInt32(_+8,!0))throw takeObject(t);return takeObject(e)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}exportPhaseAmps(){try{const a=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.plasmahandle_exportPhaseAmps(a,this.__wbg_ptr);var e=getDataViewMemory0().getInt32(a+0,!0),t=getDataViewMemory0().getInt32(a+4,!0),_=getArrayF32FromWasm0(e,t).slice();return wasm.__wbindgen_export_1(e,4*t,4),_}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}importPhaseAmps(e){const t=passArrayF32ToWasm0(e,wasm.__wbindgen_export_0),_=WASM_VECTOR_LEN;wasm.plasmahandle_importPhaseAmps(this.__wbg_ptr,t,_)}minSteps(){return wasm.plasmahandle_minSteps(this.__wbg_ptr)}maxSteps(){return wasm.plasmahandle_maxSteps(this.__wbg_ptr)}}function __wbindgen_object_drop_ref(e){takeObject(e)}function __wbindgen_boolean_get(e){const t=getObject(e);return"boolean"==typeof t?t?1:0:2}function __wbg_instanceof_Window_5012736c80a01584(e){let t;try{t=getObject(e)instanceof Window}catch(e){t=!1}return t}function __wbg_createImageBitmap_b7c7bb61272dc716(){return handleError((function(e,t){return addHeapObject(getObject(e).createImageBitmap(getObject(t)))}),arguments)}function __wbg_instanceof_WorkerGlobalScope_e34c8a505711a78e(e){let t;try{t=getObject(e)instanceof WorkerGlobalScope}catch(e){t=!1}return t}function __wbg_createImageBitmap_c278e73aea088356(){return handleError((function(e,t){return addHeapObject(getObject(e).createImageBitmap(getObject(t)))}),arguments)}function __wbg_newwithu8clampedarray_6b29095634b7e758(){return handleError((function(e,t,_){return addHeapObject(new ImageData(getClampedArrayU8FromWasm0(e,t),_>>>0))}),arguments)}function __wbg_crypto_1d1f22824a6a080c(e){return addHeapObject(getObject(e).crypto)}function __wbindgen_is_object(e){const t=getObject(e);return"object"==typeof t&&null!==t}function __wbg_process_4a72847cc503995b(e){return addHeapObject(getObject(e).process)}function __wbg_versions_f686565e586dd935(e){return addHeapObject(getObject(e).versions)}function __wbg_node_104a2ff8d6ea03a2(e){return addHeapObject(getObject(e).node)}function __wbindgen_is_string(e){return"string"==typeof getObject(e)}function __wbg_require_cca90b1a94a0255b(){return handleError((function(){return addHeapObject(module.require)}),arguments)}function __wbindgen_is_function(e){return"function"==typeof getObject(e)}function __wbindgen_string_new(e,t){return addHeapObject(getStringFromWasm0(e,t))}function __wbg_msCrypto_eb05e62b530a1508(e){return addHeapObject(getObject(e).msCrypto)}function __wbg_randomFillSync_5c9c955aa56b6049(){return handleError((function(e,t){getObject(e).randomFillSync(takeObject(t))}),arguments)}function __wbg_getRandomValues_3aa56aa6edec874c(){return handleError((function(e,t){getObject(e).getRandomValues(getObject(t))}),arguments)}function __wbg_newnoargs_76313bd6ff35d0f2(e,t){return addHeapObject(new Function(getStringFromWasm0(e,t)))}function __wbg_call_1084a111329e68ce(){return handleError((function(e,t){return addHeapObject(getObject(e).call(getObject(t)))}),arguments)}function __wbindgen_object_clone_ref(e){return addHeapObject(getObject(e))}function __wbg_self_3093d5d1f7bcb682(){return handleError((function(){return addHeapObject(self.self)}),arguments)}function __wbg_window_3bcfc4d31bc012f8(){return handleError((function(){return addHeapObject(window.window)}),arguments)}function __wbg_globalThis_86b222e13bdf32ed(){return handleError((function(){return addHeapObject(globalThis.globalThis)}),arguments)}function __wbg_global_e5a3fe56f8be9485(){return handleError((function(){return addHeapObject(__webpack_require__.g.global)}),arguments)}function __wbindgen_is_undefined(e){return void 0===getObject(e)}function __wbg_eval_6e4fc17d87772f52(){return handleError((function(arg0,arg1){const ret=eval(getStringFromWasm0(arg0,arg1));return addHeapObject(ret)}),arguments)}function __wbg_new_796382978dfd4fb0(e,t){return addHeapObject(new Error(getStringFromWasm0(e,t)))}function __wbg_call_89af060b4e1523f2(){return handleError((function(e,t,_){return addHeapObject(getObject(e).call(getObject(t),getObject(_)))}),arguments)}function __wbg_buffer_b7b08af79b0b0974(e){return addHeapObject(getObject(e).buffer)}function __wbg_newwithbyteoffsetandlength_8a2cb9ca96b27ec9(e,t,_){return addHeapObject(new Uint8Array(getObject(e),t>>>0,_>>>0))}function __wbg_new_ea1883e1e5e86686(e){return addHeapObject(new Uint8Array(getObject(e)))}function __wbg_set_d1e79e2388520f18(e,t,_){getObject(e).set(getObject(t),_>>>0)}function __wbg_newwithlength_ec548f448387c968(e){return addHeapObject(new Uint8Array(e>>>0))}function __wbg_subarray_7c2e3576afe181d1(e,t,_){return addHeapObject(getObject(e).subarray(t>>>0,_>>>0))}function __wbindgen_throw(e,t){throw new Error(getStringFromWasm0(e,t))}function __wbindgen_memory(){return addHeapObject(wasm.memory)}},466:(e,t,_)=>{var a=_(310);e.exports=_.v(t,e.id,"0ebd0c197345b41c7c27",{"./plasma_web_bg.js":{__wbindgen_object_drop_ref:a.bk,__wbindgen_boolean_get:a.Nh,__wbg_instanceof_Window_5012736c80a01584:a.uw,__wbg_createImageBitmap_b7c7bb61272dc716:a.t5,__wbg_instanceof_WorkerGlobalScope_e34c8a505711a78e:a.X5,__wbg_createImageBitmap_c278e73aea088356:a.zR,__wbg_newwithu8clampedarray_6b29095634b7e758:a.ZY,__wbg_crypto_1d1f22824a6a080c:a.h_,__wbindgen_is_object:a.qv,__wbg_process_4a72847cc503995b:a.cA,__wbg_versions_f686565e586dd935:a.D1,__wbg_node_104a2ff8d6ea03a2:a.NL,__wbindgen_is_string:a.Gu,__wbg_require_cca90b1a94a0255b:a.s,__wbindgen_is_function:a.PR,__wbindgen_string_new:a.yc,__wbg_msCrypto_eb05e62b530a1508:a.cl,__wbg_randomFillSync_5c9c955aa56b6049:a.hW,__wbg_getRandomValues_3aa56aa6edec874c:a.VF,__wbg_newnoargs_76313bd6ff35d0f2:a.xN,__wbg_call_1084a111329e68ce:a.tM,__wbindgen_object_clone_ref:a.BZ,__wbg_self_3093d5d1f7bcb682:a.KN,__wbg_window_3bcfc4d31bc012f8:a.O9,__wbg_globalThis_86b222e13bdf32ed:a.tn,__wbg_global_e5a3fe56f8be9485:a.jF,__wbindgen_is_undefined:a.vU,__wbg_eval_6e4fc17d87772f52:a.Ti,__wbg_new_796382978dfd4fb0:a.EP,__wbg_call_89af060b4e1523f2:a.J1,__wbg_buffer_b7b08af79b0b0974:a.DI,__wbg_newwithbyteoffsetandlength_8a2cb9ca96b27ec9:a.hH,__wbg_new_ea1883e1e5e86686:a.Mq,__wbg_set_d1e79e2388520f18:a.FJ,__wbg_newwithlength_ec548f448387c968:a.OL,__wbg_subarray_7c2e3576afe181d1:a.nq,__wbindgen_throw:a.Qn,__wbindgen_memory:a.Py}})}}]);